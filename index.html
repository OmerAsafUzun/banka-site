<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>GameMarket</title>
<style>
body{
  font-family:Arial;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  text-align:center;
  padding:20px;
  position:relative;
}
.card{
  background:white;
  color:black;
  padding:20px;
  margin:15px auto;
  border-radius:15px;
  width:360px;
  box-shadow:0 0 20px rgba(0,0,0,0.4);
}
button{
  padding:10px;
  margin:5px;
  width:100%;
  border:none;
  border-radius:10px;
  background:#203a43;
  color:white;
  cursor:pointer;
  transition:0.3s;
}
button:hover{
  transform:scale(1.05);
  background:#0f2027;
}
input{
  padding:8px;
  margin:5px;
  width:90%;
}
img{
  width:100%;
  border-radius:10px;
  margin-top:10px;
}
.version{
  position:fixed;
  bottom:5px;
  right:10px;
  color:white;
  opacity:0.6;
  font-size:12px;
}
</style>
</head>
<body>

<h1>ðŸŽ® GameMarket</h1>

<!-- LOGIN / REGISTER -->
<div class="card" id="loginPanel">
  <h3>GiriÅŸ</h3>
  <input id="loginId" placeholder="ID">
  <input id="loginPass" placeholder="Åžifre">
  <button onclick="login()">GiriÅŸ</button>

  <h3>KayÄ±t</h3>
  <input id="regId" placeholder="Yeni ID">
  <input id="regPass" placeholder="Åžifre">
  <button onclick="register()">Hesap OluÅŸtur</button>
</div>

<!-- USER PANEL -->
<div class="card" id="userPanel" style="display:none">
  <h3>HoÅŸgeldin <span id="currentUser"></span></h3>
  <h3>Bakiye: <span id="balance">0</span> Para</h3>

  <h3>MARKET</h3>
  <img src="https://cdn.hesap.com.tr/cache/uploads/ilan_images/random-huge-pet-simulator-99-fsnt.webp">
  <button onclick="buy('PetSim Huge',15)">PetSim Huge (15 Para)</button>

  <img src="https://via.placeholder.com/300x150.png?text=Valorant+VP">
  <button onclick="buy('Valorant VP',20)">Valorant VP (20 Para)</button>
</div>

<!-- ADMIN PANEL -->
<div class="card" id="adminPanel" style="display:none">
  <h3>Admin Paneli</h3>
  <h4>TÃ¼m KullanÄ±cÄ±lar</h4>
  <div id="userList"></div>
</div>

<div class="version">w.2</div>

<script>
// KullanÄ±cÄ±larÄ± localStorage'da saklayacaÄŸÄ±z
let users = JSON.parse(localStorage.getItem('users') || '[]');
let currentUser = null;

// GiriÅŸ Fonksiyonu
function login(){
  const id = document.getElementById('loginId').value;
  const pass = document.getElementById('loginPass').value;

  let user = users.find(u => u.id === id && u.pass === pass);
  if(user){
    currentUser = user;
    showPanel();
  } else if(id === 'w1.4' && pass === 'adminpass'){ // admin giriÅŸ
    currentUser = {id:'Admin', admin:true};
    showPanel();
  } else{
    alert('HatalÄ± giriÅŸ!');
  }
}

// KayÄ±t Fonksiyonu
function register(){
  const id = document.getElementById('regId').value;
  const pass = document.getElementById('regPass').value;

  if(users.find(u=>u.id===id)){
    alert('Bu ID zaten var!');
    return;
  }

  let newUser = {id:id, pass:pass, balance:50};
  users.push(newUser);
  localStorage.setItem('users', JSON.stringify(users));
  alert('Hesap oluÅŸturuldu!');
}

// Panel GÃ¶sterme
function showPanel(){
  document.getElementById('loginPanel').style.display='none';
  if(currentUser.admin){
    document.getElementById('adminPanel').style.display='block';
    showUsers();
  } else{
    document.getElementById('userPanel').style.display='block';
    document.getElementById('currentUser').innerText = currentUser.id;
    document.getElementById('balance').innerText = currentUser.balance;
  }
}

// Marketten alma
function buy(item, price){
  if(currentUser.balance >= price){
    currentUser.balance -= price;
    alert(item+' satÄ±n alÄ±ndÄ±!');
    document.getElementById('balance').innerText = currentUser.balance;
    updateUsers();
  } else{
    alert('Bakiye yetersiz!');
  }
}

// KullanÄ±cÄ±larÄ± gÃ¼ncelleme
function updateUsers(){
  let index = users.findIndex(u=>u.id===currentUser.id);
  if(index>=0) users[index] = currentUser;
  localStorage.setItem('users', JSON.stringify(users));
}

// Admin tÃ¼m kullanÄ±cÄ±larÄ± gÃ¶sterir
function showUsers(){
  const list = document.getElementById('userList');
  list.innerHTML = '';
  users.forEach(u=>{
    let div = document.createElement('div');
    div.style.borderBottom='1px solid #ccc';
    div.style.padding='5px';
    div.innerHTML = `<b>${u.id}</b> - Bakiye: ${u.balance} Para`;
    list.appendChild(div);
  });
}
</script>

</body>
</html>
