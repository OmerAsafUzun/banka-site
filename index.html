<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Banka Sistemi</title>

<style>
body{
font-family:Arial;
background:linear-gradient(135deg,#1e3c72,#2a5298);
text-align:center;
color:white;
padding:40px;
}

.panel{
background:white;
color:black;
padding:20px;
border-radius:15px;
width:350px;
margin:auto;
margin-top:15px;
}

button{
background:#2a5298;
color:white;
border:none;
padding:8px;
margin:3px;
border-radius:10px;
cursor:pointer;
}

input{
padding:8px;
margin:5px;
width:90%;
}
</style>
</head>

<body>

<h1>ðŸ’³ Banka Sistemi</h1>

<div class="panel" id="login">
<h3>GiriÅŸ Yap</h3>
<input id="user" placeholder="KullanÄ±cÄ± adÄ±">
<input id="pass" type="password" placeholder="Åžifre">
<button onclick="login()">GiriÅŸ</button>
<button onclick="register()">Hesap OluÅŸtur</button>
<p id="msg"></p>
</div>

<div class="panel" id="bank" style="display:none">
<h3>Bakiye: <span id="money">0</span> â‚º</h3>
<input id="amount" placeholder="Miktar">
<button onclick="deposit()">Para YatÄ±r</button>
<button onclick="withdraw()">Para Ã‡ek</button>
<button onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
</div>

<div class="panel" id="admin" style="display:none">
<h3>ðŸ‘‘ Admin Panel</h3>
<div id="users"></div>
<button onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
</div>

<script>

let currentUser = null;

function getUsers(){
return JSON.parse(localStorage.getItem("users")) || {};
}

function saveUsers(u){
localStorage.setItem("users", JSON.stringify(u));
}

function register(){
let u = document.getElementById("user").value;
let p = document.getElementById("pass").value;

let users = getUsers();

if(users[u]){
msg("Bu kullanÄ±cÄ± var");
return;
}

users[u] = {pass:p, money:1000};
saveUsers(users);
msg("Hesap oluÅŸturuldu");
}

function login(){
let u = document.getElementById("user").value;
let p = document.getElementById("pass").value;

let users = getUsers();

if(!users[u] || users[u].pass !== p){
msg("HatalÄ± giriÅŸ");
return;
}

currentUser = u;

if(u === "admin" && p === "9999"){
showAdmin();
return;
}

showBank();
}

function showBank(){
document.getElementById("login").style.display="none";
document.getElementById("bank").style.display="block";
update();
}

function showAdmin(){
document.getElementById("login").style.display="none";
document.getElementById("admin").style.display="block";
renderUsers();
}

function renderUsers(){
let users = getUsers();
let html = "";

for(let u in users){
html += `
<b>${u}</b> : ${users[u].money} â‚º 
<button onclick="addMoney('${u}')">+100</button>
<button onclick="removeMoney('${u}')">-100</button>
<button onclick="deleteUser('${u}')">Sil</button>
<br><br>
`;
}

document.getElementById("users").innerHTML = html;
}

function addMoney(u){
let users = getUsers();
users[u].money += 100;
saveUsers(users);
renderUsers();
}

function removeMoney(u){
let users = getUsers();
users[u].money -= 100;
saveUsers(users);
renderUsers();
}

function deleteUser(u){
let users = getUsers();
delete users[u];
saveUsers(users);
renderUsers();
}

function update(){
let users = getUsers();
document.getElementById("money").innerText = users[currentUser].money;
}

function deposit(){
let a = Number(document.getElementById("amount").value);
let users = getUsers();
users[currentUser].money += a;
saveUsers(users);
update();
}

function withdraw(){
let a = Number(document.getElementById("amount").value);
let users = getUsers();
if(a <= users[currentUser].money){
users[currentUser].money -= a;
}
saveUsers(users);
update();
}

function logout(){
location.reload();
}

function msg(t){
document.getElementById("msg").innerText=t;
}

</script>

</body>
</html>
